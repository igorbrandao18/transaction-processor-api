generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Transaction {
  id            String   @id @default(uuid()) @db.Uuid
  transactionId String   @unique @map("transaction_id") @db.VarChar(255)
  amount        Decimal  @db.Decimal(15, 2)
  currency      String   @db.VarChar(3)
  type          TransactionType
  status        TransactionStatus @default(pending)
  metadata      Json?
  createdAt     DateTime @default(now()) @map("created_at") @db.Timestamp(6)
  updatedAt     DateTime @updatedAt @map("updated_at") @db.Timestamp(6)

  @@index([createdAt])
  @@index([status])
  @@index([type])
  @@map("transactions")
}

enum TransactionType {
  credit
  debit
}

enum TransactionStatus {
  pending
  completed
  failed
}
